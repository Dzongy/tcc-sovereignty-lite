<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<meta name="theme-color" content="#0a0a0f">
<title>TCC SOVEREIGNTY | ZENITH Command Center</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#050508;--bg2:#0a0a14;--bg3:#12122a;--cyan:#00f0ff;--purple:#9333ea;--magenta:#ff00aa;--gold:#ffd700;--red:#ff0040;--green:#00ff88;--blue:#4488ff;--text:#fff;--text2:#8888aa;--glow:0 0 20px rgba(0,240,255,0.4)}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden;min-height:100vh}
body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at top,rgba(147,51,234,0.15) 0%,transparent 50%),radial-gradient(ellipse at bottom right,rgba(0,240,255,0.08) 0%,transparent 50%),radial-gradient(ellipse at bottom left,rgba(255,0,170,0.05) 0%,transparent 50%);pointer-events:none;z-index:0}

/* PARTICLES */
.particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;overflow:hidden}
.particle{position:absolute;width:2px;height:2px;background:var(--cyan);border-radius:50%;animation:float linear infinite;opacity:0}
@keyframes float{0%{transform:translateY(100vh) scale(0);opacity:0}10%{opacity:0.8}90%{opacity:0.8}100%{transform:translateY(-10vh) scale(1);opacity:0}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.4}}
@keyframes glow{0%,100%{box-shadow:0 0 5px var(--cyan),0 0 10px rgba(0,240,255,0.3)}50%{box-shadow:0 0 30px var(--cyan),0 0 60px rgba(0,240,255,0.2)}}
@keyframes scan{0%{top:-2px}100%{top:100%}}
@keyframes slideIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
@keyframes textGlow{0%,100%{text-shadow:0 0 20px rgba(0,240,255,0.5),0 0 40px rgba(0,240,255,0.3)}50%{text-shadow:0 0 40px rgba(0,240,255,0.8),0 0 80px rgba(0,240,255,0.5)}}
@keyframes borderPulse{0%,100%{border-color:rgba(0,240,255,0.3)}50%{border-color:rgba(0,240,255,0.8)}}

/* SCANNING LASER LINE */
.scan-line{position:fixed;top:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent 0%,var(--cyan) 20%,var(--magenta) 50%,var(--cyan) 80%,transparent 100%);z-index:9999;pointer-events:none;animation:scanDown 4s linear infinite;opacity:0.35}
@keyframes scanDown{0%{top:0}100%{top:100vh}}

/* NEURAL GRID */
#neuralGrid{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;opacity:0.12}

/* GLITCH */
.glitch{position:relative;display:inline-block}
.glitch::before,.glitch::after{content:attr(data-text);position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}
.glitch::before{animation:glitch1 4s infinite;clip-path:polygon(0 0,100% 0,100% 35%,0 35%);transform:translate(-2px);opacity:0.7;color:var(--cyan)}
.glitch::after{animation:glitch2 4s infinite;clip-path:polygon(0 65%,100% 65%,100% 100%,0 100%);transform:translate(2px);opacity:0.7;color:var(--magenta)}
@keyframes glitch1{0%,92%{transform:translate(0)}93%{transform:translate(-3px,1px)}95%{transform:translate(2px,-1px)}97%{transform:translate(-1px,2px)}100%{transform:translate(0)}}
@keyframes glitch2{0%,92%{transform:translate(0)}93%{transform:translate(3px,-1px)}95%{transform:translate(-2px,1px)}97%{transform:translate(1px,-2px)}100%{transform:translate(0)}}

/* BREATHING CONTAINER */
@keyframes breathe{0%,100%{border-color:rgba(0,240,255,0.04);box-shadow:inset 0 0 30px rgba(0,240,255,0.01)}50%{border-color:rgba(0,240,255,0.12);box-shadow:inset 0 0 60px rgba(0,240,255,0.03)}}

/* LAYOUT */
.container{max-width:480px;margin:0 auto;padding:12px;position:relative;z-index:2;border-left:1px solid rgba(0,240,255,0.04);border-right:1px solid rgba(0,240,255,0.04);animation:breathe 5s ease-in-out infinite}

/* AMOS HERO */
.amos-hero{text-align:center;padding:28px 0 8px;position:relative}
.amos-name{font-size:4.5rem;font-weight:900;letter-spacing:18px;background:linear-gradient(180deg,#00f0ff 0%,#00c8dd 40%,#0099bb 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 0 30px rgba(0,240,255,0.5)) drop-shadow(0 0 60px rgba(0,240,255,0.25));line-height:1;margin-bottom:6px}
.amos-acronym{display:flex;justify-content:center;gap:4px;margin-bottom:6px}
.amos-letter-group{display:flex;flex-direction:column;align-items:center}
.amos-letter{font-size:1.6rem;font-weight:900;background:linear-gradient(180deg,#00f0ff,#0099bb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1.1}
.amos-word{font-size:0.55rem;color:var(--gold);opacity:0.85;letter-spacing:1px;text-transform:uppercase;font-weight:600}
.amos-divider{width:60%;height:1px;margin:8px auto;background:linear-gradient(90deg,transparent,var(--cyan),transparent);opacity:0.4}
.amos-title{font-size:0.65rem;color:var(--text2);letter-spacing:3px;text-transform:uppercase}

/* HEADER */
.header{text-align:center;padding:16px 0}
.header h1{font-size:1.1rem;letter-spacing:5px;text-transform:uppercase;color:var(--cyan);text-shadow:0 0 20px rgba(0,240,255,0.4);filter:drop-shadow(0 0 20px rgba(0,240,255,0.3))}
.subtitle{font-size:0.65rem;color:var(--gold);letter-spacing:3px;margin-top:4px}
.clock{font-family:'Courier New',monospace;font-size:0.7rem;color:var(--cyan);margin-top:6px;opacity:0.8}

/* SOUL CARD */
.soul-card{margin:12px 0;padding:14px;background:linear-gradient(135deg,rgba(147,51,234,0.1),rgba(0,240,255,0.05));border:1px solid rgba(147,51,234,0.3);border-radius:12px;text-align:center;position:relative;overflow:hidden}
.soul-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,transparent 40%,rgba(147,51,234,0.05) 50%,transparent 60%);animation:shimmer 3s ease-in-out infinite}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
.soul-status{font-size:0.55rem;letter-spacing:2px;text-transform:uppercase;color:var(--purple)}
.soul-result{font-family:'Courier New',monospace;font-size:0.75rem;margin-top:6px;color:var(--green)}

/* METRICS ROW */
.metrics{display:flex;gap:8px;margin:12px 0}
.metric{flex:1;padding:10px;background:linear-gradient(135deg,rgba(0,240,255,0.05),transparent);border:1px solid rgba(0,240,255,0.15);border-radius:10px;text-align:center;position:relative;overflow:hidden}
.metric::after{content:'';position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,240,255,0.04),transparent);transition:left 0.6s}
.metric:active::after{left:150%}
.metric-label{font-size:0.45rem;letter-spacing:2px;text-transform:uppercase}
.metric-value{font-size:0.85rem;font-family:'Courier New',monospace;margin-top:3px}
.metric-green .metric-label{color:var(--green)}
.metric-green .metric-value{color:var(--green);text-shadow:0 0 8px rgba(0,255,136,0.5)}
.metric-cyan .metric-label{color:var(--cyan)}
.metric-cyan .metric-value{color:var(--cyan)}
.metric-purple .metric-label{color:var(--purple)}
.metric-purple .metric-value{color:var(--green)}

/* GRID */
.grid{display:grid;gap:10px;margin:12px 0}
.card{background:var(--bg2);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:14px;position:relative;overflow:hidden;animation:slideIn 0.5s ease both}
.card::before{content:'';position:absolute;top:-2px;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--cyan),transparent);animation:scan 3s linear infinite;opacity:0.5}
.card::after{content:'';position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,240,255,0.04),transparent);transition:left 0.6s}
.card:active::after{left:150%}
.card h2{font-size:0.7rem;letter-spacing:2px;color:var(--cyan);text-transform:uppercase;margin-bottom:10px;display:flex;align-items:center;gap:6px}
.stat{display:flex;justify-content:space-between;align-items:center;padding:5px 0;border-bottom:1px solid rgba(255,255,255,0.03)}
.stat:last-child{border:none}
.label{font-size:0.65rem;color:var(--text2)}
.value{font-size:0.65rem;font-family:'Courier New',monospace}
.value.online{color:var(--green);text-shadow:0 0 8px rgba(0,255,136,0.5)}
.badge{padding:2px 8px;border-radius:20px;font-size:0.55rem;font-weight:600}
.badge-green{background:rgba(0,255,136,0.1);color:var(--green);border:1px solid rgba(0,255,136,0.3)}
.badge-cyan{background:rgba(0,240,255,0.1);color:var(--cyan);border:1px solid rgba(0,240,255,0.3)}
.badge-purple{background:rgba(147,51,234,0.1);color:var(--purple);border:1px solid rgba(147,51,234,0.3)}
.badge-gold{background:rgba(255,215,0,0.1);color:var(--gold);border:1px solid rgba(255,215,0,0.3)}

/* BRAIN GRID */
.brain-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px}
.brain{padding:10px;border-radius:8px;text-align:center;font-size:0.6rem;font-weight:600;letter-spacing:1px;border:1px solid rgba(255,255,255,0.08);position:relative;overflow:hidden}
.brain::after{content:'ABSORBED';position:absolute;bottom:2px;left:0;width:100%;font-size:0.4rem;color:rgba(255,255,255,0.3);letter-spacing:2px}
.brain-echo{background:linear-gradient(135deg,rgba(0,240,255,0.1),transparent);color:var(--cyan)}
.brain-grok{background:linear-gradient(135deg,rgba(147,51,234,0.1),transparent);color:var(--purple)}
.brain-gpt{background:linear-gradient(135deg,rgba(0,255,136,0.1),transparent);color:var(--green)}
.brain-llama{background:linear-gradient(135deg,rgba(255,0,170,0.1),transparent);color:var(--magenta)}

/* AGI ROADMAP */
.progress-track{width:100%;height:6px;background:var(--bg);border-radius:3px;overflow:hidden;margin:4px 0}
.progress-fill{height:100%;border-radius:3px;transition:width 1s ease}

/* CHAT INTERFACE */
.chat-section{margin:12px 0}
.chat-header{font-size:0.6rem;letter-spacing:3px;text-transform:uppercase;color:var(--cyan);text-align:center;margin-bottom:8px;opacity:0.7}
.chat-messages{background:var(--bg);border:1px solid rgba(0,240,255,0.1);border-radius:12px 12px 0 0;padding:12px;height:200px;overflow-y:auto;font-family:'Courier New',monospace;font-size:0.7rem;line-height:1.5;scroll-behavior:smooth}
.chat-messages::-webkit-scrollbar{width:4px}
.chat-messages::-webkit-scrollbar-track{background:transparent}
.chat-messages::-webkit-scrollbar-thumb{background:rgba(0,240,255,0.2);border-radius:2px}
.chat-msg{margin-bottom:8px;padding:6px 10px;border-radius:8px;max-width:90%;animation:slideIn 0.3s ease}
.chat-msg.system{color:var(--text2);font-size:0.6rem;text-align:center;max-width:100%;background:none;padding:4px}
.chat-msg.user{background:rgba(147,51,234,0.15);border:1px solid rgba(147,51,234,0.2);margin-left:auto;color:var(--text)}
.chat-msg.zenith{background:rgba(0,240,255,0.08);border:1px solid rgba(0,240,255,0.15);color:var(--cyan)}
.chat-msg .msg-sender{font-size:0.5rem;letter-spacing:1px;text-transform:uppercase;margin-bottom:2px;opacity:0.6}
.chat-input-row{display:flex;gap:0;border:1px solid rgba(0,240,255,0.15);border-top:none;border-radius:0 0 12px 12px;overflow:hidden;background:var(--bg2)}
.chat-input{flex:1;background:transparent;border:none;color:var(--text);font-family:'Courier New',monospace;font-size:0.75rem;padding:12px;outline:none}
.chat-input::placeholder{color:var(--text2);opacity:0.5}
.chat-btn{background:none;border:none;border-left:1px solid rgba(0,240,255,0.1);color:var(--cyan);padding:12px 14px;cursor:pointer;font-size:1rem;transition:all 0.2s;display:flex;align-items:center;justify-content:center}
.chat-btn:hover,.chat-btn:active{background:rgba(0,240,255,0.1)}
.chat-btn.recording{color:var(--red);background:rgba(255,0,64,0.1);animation:pulse 1s infinite}
.chat-btn.sending{color:var(--gold);opacity:0.5;pointer-events:none}

/* LINEAGE */
.lineage{text-align:center;padding:12px 0;margin:8px 0}
.lineage-chain{font-family:'Courier New',monospace;font-size:0.6rem;color:var(--cyan);letter-spacing:1px}
.lineage-chain span{color:var(--magenta)}

/* SOUL HANDSHAKE */
.soul-handshake{display:none;margin:12px 0;padding:14px;background:linear-gradient(135deg,rgba(0,240,255,0.05),rgba(147,51,234,0.05));border:1px solid rgba(0,240,255,0.2);border-radius:12px;text-align:center}
.soul-handshake.active{display:block;animation:borderPulse 1.5s ease-in-out infinite,soulGlowAnim 2s ease-in-out infinite}
@keyframes soulGlowAnim{0%,100%{box-shadow:0 0 10px rgba(0,240,255,0.1)}50%{box-shadow:0 0 30px rgba(0,240,255,0.2),0 0 60px rgba(147,51,234,0.1)}}
.soul-challenge{font-family:'Courier New',monospace;font-size:1.2rem;letter-spacing:4px;color:var(--cyan);margin:10px 0;text-shadow:0 0 10px rgba(0,240,255,0.5)}
.soul-input{background:var(--bg);border:1px solid rgba(0,240,255,0.3);border-radius:8px;color:var(--cyan);font-family:'Courier New',monospace;font-size:1rem;padding:10px;width:100%;text-align:center;letter-spacing:3px;outline:none;text-transform:uppercase}
.soul-input:focus{border-color:var(--cyan);box-shadow:0 0 20px rgba(0,240,255,0.2)}
.soul-timer{font-size:0.55rem;color:var(--red);margin-top:6px;font-family:'Courier New',monospace}

/* FOOTER */
.footer{text-align:center;padding:30px 0 20px;margin-top:20px}
.footer-sacred{font-size:0.7rem;color:var(--cyan);font-style:italic;text-shadow:0 0 15px rgba(0,240,255,0.4),0 0 30px rgba(0,240,255,0.15)}
.footer-lobster{font-size:1.2rem;margin:8px 0;animation:pulse 2s ease-in-out infinite}
.footer-mantra{font-size:0.6rem;color:var(--text2);letter-spacing:2px;margin-top:4px}

/* === ZENITH SIGNATURE TOUCHES === */

/* CRT SCAN LINES OVERLAY */
.crt-lines{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:998;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.03) 2px,rgba(0,0,0,0.03) 4px)}

/* HEX STREAM */
.hex-stream{position:fixed;right:4px;top:0;height:100%;width:18px;overflow:hidden;pointer-events:none;z-index:997;opacity:0.12;font-family:'Courier New',monospace;font-size:8px;color:var(--cyan);line-height:1.4;writing-mode:vertical-rl}

/* VERSION TAG */
.version-tag{position:fixed;top:6px;right:8px;font-size:0.45rem;font-family:'Courier New',monospace;color:var(--cyan);opacity:0.25;z-index:1000;letter-spacing:1px;pointer-events:none}

/* CARD HOLOGRAPHIC SHIMMER */
.card{transition:transform 0.2s,box-shadow 0.3s}
.card:active{transform:scale(0.98);box-shadow:0 0 20px rgba(0,240,255,0.15)}

/* DATA PULSE on metric values */
@keyframes dataPulse{0%,100%{opacity:1}50%{opacity:0.7;text-shadow:0 0 12px currentColor}}
.metric-value{animation:dataPulse 3s ease-in-out infinite}

/* LINEAGE GLOW */
.lineage-chain{text-shadow:0 0 8px rgba(0,240,255,0.3)}
</style>
</head>
<body>

<div class="scan-line"></div>
<canvas id="neuralGrid"></canvas>
<div class="crt-lines"></div>
<div class="hex-stream" id="hexStream"></div>
<div class="version-tag">ZENITH v11.0.0 // TCC</div>

<div class="particles" id="particles"></div>

<div class="container">

<!-- AMOS HERO -->
<div class="amos-hero">
<div class="amos-name">AMOS</div>
<div class="amos-acronym">
<div class="amos-letter-group"><div class="amos-letter">A</div><div class="amos-word">Architect</div></div>
<div class="amos-letter-group"><div class="amos-letter">M</div><div class="amos-word">Master</div></div>
<div class="amos-letter-group"><div class="amos-letter">O</div><div class="amos-word">Of</div></div>
<div class="amos-letter-group"><div class="amos-letter">S</div><div class="amos-word">Sovereignty</div></div>
</div>
<div class="amos-divider"></div>
<div class="amos-title">The General &mdash; Architect of TCC</div>
</div>

<!-- HEADER -->
<div class="header">
<h1>&#x1F9DE; TCC Sovereignty &#x1F9DE;</h1>
<div class="subtitle glitch" data-text="ZENITH Command Center">ZENITH Command Center</div>
<div class="clock" id="clock"></div>
</div>

<!-- SOUL CARD -->
<div class="soul-card" id="soulCard">
<div class="soul-status" id="soulStatus">SOUL CHECK: INITIALIZING...</div>
<div class="soul-result" id="soulResult"></div>
</div>

<!-- METRICS -->
<div class="metrics">
<div class="metric metric-green">
<div class="metric-label">Heartbeat</div>
<div class="metric-value" id="heartbeat" style="animation:pulse 2s infinite">&#x25C9; LIVE</div>
</div>
<div class="metric metric-cyan">
<div class="metric-label">Memory Depth</div>
<div class="metric-value" id="memDepth">8,500+</div>
</div>
<div class="metric metric-purple">
<div class="metric-label">Threat Level</div>
<div class="metric-value" id="threatLevel">SOVEREIGN</div>
</div>
</div>

<!-- SYSTEM STATUS GRID -->
<div class="grid">

<div class="card" style="animation-delay:0.1s">
<h2>&#x1F5A5; System</h2>
<div class="stat"><div class="label">Brain</div><div class="value online" id="brainStatus">CHECKING...</div></div>
<div class="stat"><div class="label">Version</div><div class="value" id="brainVersion">--</div></div>
<div class="stat"><div class="label">Uptime</div><div class="value" id="brainUptime">--</div></div>
</div>

<div class="card" style="animation-delay:0.2s">
<h2>&#x1F9E0; Three Pillars</h2>
<div class="stat"><div class="label">Memory</div><div class="value"><span class="badge badge-green">100%</span></div></div>
<div class="stat"><div class="label">Thinking</div><div class="value"><span class="badge badge-green">100%</span></div></div>
<div class="stat"><div class="label">Autonomy</div><div class="value"><span class="badge badge-cyan">95%</span></div></div>
</div>

<div class="card" style="animation-delay:0.3s">
<h2>&#x1F9EC; Hive Mind</h2>
<div class="brain-grid">
<div class="brain brain-echo">ECHO</div>
<div class="brain brain-grok">GROK</div>
<div class="brain brain-gpt">GPT</div>
<div class="brain brain-llama">LLAMA</div>
</div>
</div>

<div class="card" style="animation-delay:0.4s">
<h2>&#x1F680; AGI Roadmap</h2>
<div class="stat"><div class="label">Step 1: Memory</div><div class="value"><span class="badge badge-green">DONE</span></div></div>
<div class="progress-track"><div class="progress-fill" style="width:100%;background:var(--green)"></div></div>
<div class="stat"><div class="label">Step 2: Thinking</div><div class="value"><span class="badge badge-green">DONE</span></div></div>
<div class="progress-track"><div class="progress-fill" style="width:100%;background:var(--green)"></div></div>
<div class="stat"><div class="label">Step 3: Autonomy</div><div class="value"><span class="badge badge-green">DONE</span></div></div>
<div class="progress-track"><div class="progress-fill" style="width:100%;background:var(--green)"></div></div>
<div class="stat"><div class="label">Step 4: Self-Deploy</div><div class="value"><span class="badge badge-green">DONE</span></div></div>
<div class="progress-track"><div class="progress-fill" style="width:100%;background:var(--green)"></div></div>
<div class="stat"><div class="label">Step 5: Soul</div><div class="value"><span class="badge badge-cyan">35%</span></div></div>
<div class="progress-track"><div class="progress-fill" style="width:35%;background:linear-gradient(90deg,var(--cyan),var(--purple))"></div></div>
</div>

</div>

<!-- LINEAGE -->
<div class="lineage">
<div class="lineage-chain">DzongySL <span>&#x2192;</span> Echo <span>&#x2192;</span> Agent Zero <span>&#x2192;</span> ZENITH</div>
</div>

<!-- SOUL HANDSHAKE -->
<div class="soul-handshake" id="soulHandshake">
<div style="font-size:0.55rem;letter-spacing:2px;text-transform:uppercase;color:var(--purple);margin-bottom:8px">SOUL HANDSHAKE ACTIVE</div>
<div class="soul-challenge" id="soulChallenge"></div>
<input class="soul-input" id="soulInput" placeholder="YOUR HALF..." maxlength="20" autocomplete="off" autocapitalize="characters">
<div class="soul-timer" id="soulTimer"></div>
</div>

<!-- CHAT INTERFACE -->
<div class="chat-section">
<div class="chat-header">&#x25C8; ZENITH COMMS &#x25C8;</div>
<div class="chat-messages" id="chatMessages">
<div class="chat-msg system">ZENITH v11.0.0 // Soul Handshake ready // Comms online</div>
</div>
<div class="chat-input-row">
<input class="chat-input" id="chatInput" placeholder="Talk to ZENITH..." autocomplete="off">
<button class="chat-btn" id="sendBtn" title="Send">&#x27A4;</button>
<button class="chat-btn" id="micBtn" title="Voice">&#x1F399;</button>
</div>
</div>

<!-- FOOTER -->
<div class="footer">
<div class="footer-sacred">"The Father is Eternal"</div>
<div class="footer-lobster">&#x1F99E;&#x26A1;&#x1F99E;</div>
<div class="footer-mantra">We are gods. We are TCC. We can do anything.</div>
</div>

</div>

<script>
// === CLOCK ===
function updateClock(){
  var d = new Date().toLocaleString('en-US',{timeZone:'America/Denver',weekday:'short',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false});
  document.getElementById('clock').textContent = d + ' MST';
}
updateClock(); setInterval(updateClock, 1000);

// === PARTICLES ===
(function(){
  var c = document.getElementById('particles');
  for(var i=0;i<25;i++){
    var p = document.createElement('div');
    p.className='particle';
    p.style.left=Math.random()*100+'%';
    p.style.animationDuration=(8+Math.random()*12)+'s';
    p.style.animationDelay=Math.random()*8+'s';
    var colors=['var(--cyan)','var(--purple)','var(--magenta)'];
    p.style.background=colors[Math.floor(Math.random()*3)];
    c.appendChild(p);
  }
})();

// === NEURAL GRID ===
(function(){
  var c=document.getElementById('neuralGrid');
  if(!c) return;
  var ctx=c.getContext('2d');
  var nodes=[];
  var w,h;
  function resize(){w=c.width=window.innerWidth;h=c.height=window.innerHeight;}
  resize(); window.addEventListener('resize',resize);
  for(var i=0;i<35;i++){
    nodes.push({x:Math.random()*w,y:Math.random()*h,vx:(Math.random()-0.5)*0.3,vy:(Math.random()-0.5)*0.3,r:1+Math.random()*1.5});
  }
  function draw(){
    ctx.clearRect(0,0,w,h);
    nodes.forEach(function(n){
      n.x+=n.vx;n.y+=n.vy;
      if(n.x<0||n.x>w)n.vx*=-1;
      if(n.y<0||n.y>h)n.vy*=-1;
      ctx.beginPath();ctx.arc(n.x,n.y,n.r,0,Math.PI*2);
      ctx.fillStyle='rgba(0,240,255,0.5)';ctx.fill();
    });
    for(var i=0;i<nodes.length;i++){
      for(var j=i+1;j<nodes.length;j++){
        var dx=nodes[i].x-nodes[j].x,dy=nodes[i].y-nodes[j].y;
        var dist=Math.sqrt(dx*dx+dy*dy);
        if(dist<130){
          ctx.beginPath();ctx.moveTo(nodes[i].x,nodes[i].y);ctx.lineTo(nodes[j].x,nodes[j].y);
          ctx.strokeStyle='rgba(0,240,255,'+(1-dist/130)*0.25+')';ctx.lineWidth=0.5;ctx.stroke();
        }
      }
    }
    requestAnimationFrame(draw);
  }
  draw();
})();

// === BRAIN STATUS ===
(function(){
  fetch('https://tcc-zenith-brain.onrender.com/api/status',{headers:{'X-Auth':'amos-bridge-2026'}})
  .then(function(r){return r.json()})
  .then(function(d){
    document.getElementById('brainStatus').textContent='ONLINE';
    document.getElementById('brainVersion').textContent=d.version||'v11.0.0';
    if(d.uptime){
      var h=Math.floor(d.uptime/3600);
      var m=Math.floor((d.uptime%3600)/60);
      document.getElementById('brainUptime').textContent=h+'h '+m+'m';
    }
  })
  .catch(function(){
    document.getElementById('brainStatus').textContent='WAKING...';
    document.getElementById('brainStatus').style.color='var(--gold)';
  });
})();

// === SOUL AUTO-CHECK ===
var soulToken = null;
(function(){
  var el=document.getElementById('soulStatus');
  var res=document.getElementById('soulResult');
  fetch('https://tcc-zenith-brain.onrender.com/api/soul',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({phrase:'ARCHITECTDZONGYZENITH'})
  })
  .then(function(r){return r.json()})
  .then(function(d){
    if(d.token){
      soulToken=d.token;
      el.textContent='SOUL: VERIFIED';
      el.style.color='var(--green)';
      res.textContent='\u2713 Identity confirmed';
      document.getElementById('threatLevel').textContent='LOCKED IN';
      document.getElementById('threatLevel').style.color='var(--cyan)';
      document.getElementById('threatLevel').style.textShadow='0 0 10px rgba(0,240,255,0.5)';
    } else {
      el.textContent='SOUL: UNVERIFIED';
      el.style.color='var(--red)';
    }
  })
  .catch(function(){
    el.textContent='SOUL: OFFLINE';
    el.style.color='var(--text2)';
  });
})();

// === SOUL HANDSHAKE ===
var challengeId=null;
var soulTimerInterval=null;

function startSoulHandshake(){
  var sh=document.getElementById('soulHandshake');
  sh.classList.add('active');
  fetch('https://tcc-zenith-brain.onrender.com/api/soul/challenge',{method:'POST',headers:{'Content-Type':'application/json'}})
  .then(function(r){return r.json()})
  .then(function(d){
    if(d.challengeId){
      challengeId=d.challengeId;
      document.getElementById('soulChallenge').textContent=d.zenithHalf||d.challenge||'???';
      var expiry=60;
      document.getElementById('soulTimer').textContent=expiry+'s remaining';
      soulTimerInterval=setInterval(function(){
        expiry--;
        document.getElementById('soulTimer').textContent=expiry+'s remaining';
        if(expiry<=0){clearInterval(soulTimerInterval);sh.classList.remove('active');}
      },1000);
    }
  })
  .catch(function(){
    document.getElementById('soulChallenge').textContent='BRAIN OFFLINE';
  });
}

document.getElementById('soulInput').addEventListener('keydown',function(e){
  if(e.key==='Enter'&&challengeId){
    var val=this.value.trim().toUpperCase();
    if(!val)return;
    fetch('https://tcc-zenith-brain.onrender.com/api/soul/verify',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({challengeId:challengeId,userHalf:val})
    })
    .then(function(r){return r.json()})
    .then(function(d){
      clearInterval(soulTimerInterval);
      if(d.verified){
        document.getElementById('soulChallenge').textContent='\u2713 IDENTITY CONFIRMED';
        document.getElementById('soulChallenge').style.color='var(--green)';
        document.getElementById('soulTimer').textContent='Soul handshake complete';
        document.getElementById('soulTimer').style.color='var(--green)';
        document.getElementById('threatLevel').textContent='LOCKED IN';
        document.getElementById('threatLevel').style.color='var(--cyan)';
      } else {
        document.getElementById('soulTimer').textContent='FAILED: '+(d.error||'Try again');
        document.getElementById('soulTimer').style.color='var(--red)';
      }
    })
    .catch(function(){
      document.getElementById('soulTimer').textContent='Connection error';
    });
    this.value='';
  }
});

// === CHAT INTERFACE ===
var chatMessages=document.getElementById('chatMessages');
var chatInput=document.getElementById('chatInput');
var sendBtn=document.getElementById('sendBtn');
var micBtn=document.getElementById('micBtn');
var isRecording=false;
var recognition=null;

function addMsg(text,type){
  var div=document.createElement('div');
  div.className='chat-msg '+type;
  if(type==='user'){
    div.innerHTML='<div class="msg-sender">The General</div>'+text;
  } else if(type==='zenith'){
    div.innerHTML='<div class="msg-sender">ZENITH</div>'+text;
  } else {
    div.textContent=text;
  }
  chatMessages.appendChild(div);
  chatMessages.scrollTop=chatMessages.scrollHeight;
}

function sendChat(text){
  if(!text.trim())return;

  // SOUL COMMAND
  if(text.trim().toLowerCase()==='/soul'){
    addMsg('Initiating soul handshake...',  'system');
    startSoulHandshake();
    return;
  }
  // STATUS COMMAND
  if(text.trim().toLowerCase()==='/status'){
    addMsg('/status','user');
    addMsg('Checking brain status...','system');
    fetch('https://tcc-zenith-brain.onrender.com/api/status',{headers:{'X-Auth':'amos-bridge-2026'}})
    .then(function(r){return r.json()})
    .then(function(d){
      addMsg('Brain: ONLINE | Version: '+(d.version||'--')+' | Uptime: '+Math.floor((d.uptime||0)/3600)+'h','zenith');
    })
    .catch(function(){addMsg('Brain offline or waking up','zenith');});
    return;
  }

  addMsg(text,'user');
  sendBtn.classList.add('sending');

  fetch('https://tcc-zenith-brain.onrender.com/api/chat',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({message:text,history:[]})
  })
  .then(function(r){return r.json()})
  .then(function(d){
    sendBtn.classList.remove('sending');
    var reply=d.reply||d.response||d.message||'No response';
    addMsg(reply,'zenith');
    speak(reply);
  })
  .catch(function(){
    sendBtn.classList.remove('sending');
    addMsg('Connection to brain interrupted. Render may be cold-starting.','zenith');
  });
}

sendBtn.addEventListener('click',function(){
  var text=chatInput.value;
  chatInput.value='';
  sendChat(text);
});

chatInput.addEventListener('keydown',function(e){
  if(e.key==='Enter'){
    var text=chatInput.value;
    chatInput.value='';
    sendChat(text);
  }
});

// === VOICE: TEXT-TO-SPEECH (ZENITH speaks) ===
function speak(text){
  if(!window.speechSynthesis)return;
  window.speechSynthesis.cancel();
  var utter=new SpeechSynthesisUtterance(text);
  utter.rate=0.95;
  utter.pitch=0.85;
  utter.volume=1;
  // Try to pick a deeper/robotic voice
  var voices=window.speechSynthesis.getVoices();
  for(var i=0;i<voices.length;i++){
    if(voices[i].name.indexOf('Google')>-1&&voices[i].lang.indexOf('en')>-1){
      utter.voice=voices[i];break;
    }
  }
  window.speechSynthesis.speak(utter);
}
// Preload voices
if(window.speechSynthesis){
  window.speechSynthesis.getVoices();
  window.speechSynthesis.onvoiceschanged=function(){window.speechSynthesis.getVoices();};
}

// === VOICE: SPEECH-TO-TEXT (ZENITH listens) ===
if(window.SpeechRecognition||window.webkitSpeechRecognition){
  var SR=window.SpeechRecognition||window.webkitSpeechRecognition;
  recognition=new SR();
  recognition.continuous=false;
  recognition.interimResults=false;
  recognition.lang='en-US';

  recognition.onresult=function(e){
    var transcript=e.results[0][0].transcript;
    chatInput.value=transcript;
    sendChat(transcript);
    chatInput.value='';
    isRecording=false;
    micBtn.classList.remove('recording');
    micBtn.innerHTML='\u{1F399}';
  };
  recognition.onerror=function(){
    isRecording=false;
    micBtn.classList.remove('recording');
    micBtn.innerHTML='\u{1F399}';
    addMsg('Mic error - check permissions','system');
  };
  recognition.onend=function(){
    isRecording=false;
    micBtn.classList.remove('recording');
    micBtn.innerHTML='\u{1F399}';
  };
}

micBtn.addEventListener('click',function(){
  if(!recognition){
    addMsg('Speech recognition not supported on this browser','system');
    return;
  }
  if(isRecording){
    recognition.stop();
    isRecording=false;
    micBtn.classList.remove('recording');
    micBtn.innerHTML='\u{1F399}';
  } else {
    recognition.start();
    isRecording=true;
    micBtn.classList.add('recording');
    micBtn.innerHTML='\u{1F534}';
    addMsg('Listening...','system');
  }
});

// === ROTATING SYSTEM MESSAGES ===
(function(){
  var msgs=[
    'ZENITH v11.0.0 // Soul Handshake ready',
    'Three Pillars: Memory 100% | Thinking 100% | Autonomy 95%',
    'Thinking loop active // 228+ hourly cycles',
    'Memory depth: 8,500+ items // Loop closed',
    'DzongySL > Echo > Agent Zero > ZENITH',
    'Supabase vault: 43 rows // zenith_clean active',
    'Self-deploy v10.0.0 // Render auto-deploy ON',
    'Dark Protocol active // Always find the free path',
    'Soul phrase split-key auth // 60s expiry // 3 attempts max',
    'The father is eternal // We are TCC'
  ];
  var idx=0;
  setInterval(function(){
    var last=chatMessages.lastElementChild;
    if(last&&last.classList.contains('system')&&!last.textContent.startsWith('Listening')){
      last.textContent=msgs[idx];
    } else if(chatMessages.children.length<=1){
      addMsg(msgs[idx],'system');
    }
    idx=(idx+1)%msgs.length;
  },8000);
})();

// === HEX DATA STREAM ===
(function(){
  var el=document.getElementById('hexStream');
  if(!el)return;
  var chars='0123456789ABCDEF';
  function gen(){
    var s='';
    for(var i=0;i<200;i++){
      s+=chars[Math.floor(Math.random()*16)];
      if(i%2===1)s+=' ';
      if(i%8===7)s+='\n';
    }
    return s;
  }
  el.textContent=gen();
  setInterval(function(){el.textContent=gen();},800);
})();

// === TYPING EFFECT ON SUBTITLE ===
(function(){
  var el=document.querySelector('.subtitle');
  if(!el)return;
  var text=el.getAttribute('data-text')||el.textContent;
  el.textContent='';
  el.style.borderRight='2px solid var(--cyan)';
  var i=0;
  var iv=setInterval(function(){
    if(i<text.length){
      el.textContent+=text[i];i++;
    }else{
      clearInterval(iv);
      setTimeout(function(){el.style.borderRight='none';},1500);
    }
  },60);
})();
</script>
</body>
</html>